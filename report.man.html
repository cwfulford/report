
<p><a href="#heading1">NAME</a><br/>
<a href="#heading2">SYNOPSIS</a><br/>
<a href="#heading3">AVAILABILITY</a><br/>
<a href="#heading4">DESCRIPTION</a><br/>
<a href="#heading5">OPTIONS</a><br/>
<a href="#heading6">EXAMPLES</a><br/>
<a href="#heading7">FILES</a><br/>
<a href="#heading8">BUGS</a><br/>
<a href="#heading9">SEE ALSO</a><br/>
<a href="#heading10">AUTHOR</a><br/>

</p>
<hr/>


<h2 id="heading1">NAME
</h2>


<p style="margin-left:11%; margin-top: 1em"><b><a href="./scripts.php?script=report">report</a></b>
grabs monitoring activity information from the log files and
generates a <i>pdf</i> <a href="./scripts.php?script=report">report</a> suitable for mailing to a
client.</p>

<h2 id="heading2">SYNOPSIS
</h2>


<p style="margin-left:11%; margin-top: 1em"><b><a href="./scripts.php?script=report">report</a></b>
[<b>-c</b>] [<b>-d</b>] [<b>-e</b>
<i>&lt;e-mail_rcpts&gt;</i>] [<b>-o</b>
<i>&lt;output_dir&gt;</i>] [<b>-s</b>] [<b>-v</b>]
[<b>-V</b>] <i>&lt;hostid&gt;</i></p>

<h2 id="heading3">AVAILABILITY
</h2>



<p style="margin-left:11%; margin-top: 1em"><i><b><a href="./scripts.php?script=report">report</a></b></i>
is a Bourne shell script which should work equally well on
all versions of UNIX and Linux.</p>

<h2 id="heading4">DESCRIPTION
</h2>


<p style="margin-left:11%; margin-top: 1em">The script is
currently hardwired to find explicit strings known to be
used in logging activity by other <b>City&nbsp;Linux</b>
scripts (e.g. <b>chkfw</b>, <b>chkdf</b> etc). A
configurable template for the <a href="./scripts.php?script=report">report</a> is combined with the
extracted log file data using <b>GNU</b>&rsquo;s <b>gawk</b>
to generate a <b>groff</b> document with <b>ms</b> macros. A
<b>postscript</b> file is generated from which a <b>pdf</b>
file is created using <b>ps2pdf</b>.</p>

<p style="margin-left:11%; margin-top: 1em">The
<i>hostid</i> must be given on the command line. The
<i>hostid</i> may be the <i>hostname</i> of the subject of
the <a href="./scripts.php?script=report">report</a> but I frequently find that in these times when
canonical hostnames are so often complex names automatically
generated by internet service providers and with no reverse
lookup, it is more efficient to use a local id for the
clients box which can be resolved through local lookup
tables or inserted into the local domains name space.</p>

<p style="margin-left:11%; margin-top: 1em">Templates are
kept in the directory
&quot;<i>/usr/local/etc/<a href="./scripts.php?script=report">report</a>s.d</i>&quot; with the file
name <i>hostid</i>.</p>

<h2 id="heading5">OPTIONS
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<colgroup><col width="11%"></col>
<col width="3%"></col>
<col width="4%" class="center"></col>
<col width="62%"></col>
<col width="20%"></col>
</colgroup>
<tr valign="top" align="left">
<td></td>
<td>


<p style="margin-top: 1em"><b>-c</b></p></td>
<td></td>
<td>


<p style="margin-top: 1em">Generate a <a href="./scripts.php?script=report">report</a> for the
current month.</p></td>
<td>
</td></tr>
<tr valign="top" align="left">
<td></td>
<td>


<p><b>-d</b></p></td>
<td></td>
<td>


<p>Set <i>debug</i> mode on.</p></td>
<td>
</td></tr>
</table>

<p style="margin-left:11%;"><b>-e</b>
<i>&lt;e-mail_rcpts&gt;</i></p>

<p style="margin-left:18%;">The completed <a href="./scripts.php?script=report">report</a> is emailed
to the addresses given with the <b>-e</b> option. The
<i>e-mail</i> recipients may be a comma separated list of
email addresses .</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<colgroup><col width="11%"></col>
<col width="3%"></col>
<col width="4%" class="center"></col>
<col width="28%"></col>
<col width="54%"></col>
</colgroup>
<tr valign="top" align="left">
<td></td>
<td>


<p><b>-o</b></p></td>
<td></td>
<td>


<p><i>&lt;output_directory&gt;</i></p></td>
<td>
</td></tr>
</table>

<p style="margin-left:18%;">Both <b>postscript</b> and
<b>portable document format (.pdf)</b> copies of the report
are generated. The <a href="./scripts.php?script=report">report</a>s are output to directory set with
the <b>-o</b> option or
<b>&quot;$HOME./clients/$hostid/<a href="./scripts.php?script=report">report</a>s&quot;</b> by
default. If the directory does not exist it is created.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<colgroup><col width="11%"></col>
<col width="3%"></col>
<col width="4%" class="center"></col>
<col width="82%"></col>
</colgroup>
<tr valign="top" align="left">
<td></td>
<td>


<p style="margin-top: 1em"><b>-s</b></p></td>
<td></td>
<td>


<p style="margin-top: 1em">Display (show) the <a href="./scripts.php?script=report">report</a> on
screen.</p> </td></tr>
<tr valign="top" align="left">
<td></td>
<td>


<p><b>-v</b></p></td>
<td></td>
<td>


<p>Set the operation mode of the script to <i>verbose</i>.
In <i>verbose</i> mode The script will echo progress
messages and alerts to <i>standard out</i>.</p></td></tr>
<tr valign="top" align="left">
<td></td>
<td>


<p><b>-V</b></p></td>
<td></td>
<td>


<p>Print the version number to screen and exit.</p></td></tr>
</table>

<h2 id="heading6">EXAMPLES
</h2>


<pre style="margin-left:22%; margin-top: 1em"><a href="./scripts.php?script=report">report</a> -m Nov fcl</pre>


<p style="margin-left:11%; margin-top: 1em">Create a report
for the host id &quot;<i>fcl</i>&quot; using log records
generated in November.</p>

<h2 id="heading7">FILES
</h2>



<p style="margin-left:11%; margin-top: 1em"><i>/var/log/messages</i>,
<i>/var/log/reports/&lt;hostid&gt;.&lt;month&gt;.db</i>,
<i>/usr/local/etc/reports.d/&lt;hostid&gt;</i>.</p>

<h2 id="heading8">BUGS
</h2>


<p style="margin-left:11%; margin-top: 1em">The script has
very little input error checking.</p>

<h2 id="heading9">SEE ALSO
</h2>


<p style="margin-left:11%; margin-top: 1em"><a href="./scripts.php?script=chkdf&amp;man=y">chkdf</a>,
<a href="./scripts.php?script=chkftpd&amp;man=y">chkftpd</a>, <a href="./scripts.php?script=chkfw&amp;man=y">chkfw</a>, <a href="./scripts.php?script=chkmail&amp;man=y">chkmail</a>,
<a href="./scripts.php?script=ftchbkup&amp;man=y">ftchbkup</a>, <a href="./scripts.php?script=rclean&amp;man=y">rclean</a>, <a href="./scripts.php?script=rmq&amp;man=y">rmq</a>, <a href="./scripts.php?script=plbkup&amp;man=y">plbkup</a>,
<a href="./scripts.php?script=secscan&amp;man=y">secscan</a>.</p>

<h2 id="heading10">AUTHOR
</h2>


<p style="margin-left:11%; margin-top: 1em">Clifford W
Fulford, <a href="http://www.citylinux.com"
title="Go to the City Linux homepage">
City Linux
</a>. Contact <a href="mailto:fulford@fulford.net" title="Send mail to Clifford W Fulford">fulford@fulford.net</a> or +44
(0)709 229 5385.</p>
<hr/>
