<h2 id="heading1">NAME</h2>
<p class="indent">
<b><a href="./scripts.php?script=report">report</a></b>
grabs monitoring activity information from the log files and generates a 
<i>pdf</i>
<a href="./scripts.php?script=report">report</a> suitable for mailing to a client.
</p>
<h2 id="heading2">SYNOPSIS</h2>
<p class="indent">

<b><a href="./scripts.php?script=report">report</a> </b>

[
<b>-c</b>
]
[
<b>-d</b>
]
[
<b>-e </b>
<i>&lt;e-mail_rcpts&gt;</i>
]
[
<b>-o </b>
<i>&lt;output_dir&gt;</i>
]
[
<b>-s</b>
]
[
<b>-v</b>
]
[
<b>-V</b>
]

<i>&lt;hostid&gt;</i>

</p>
<h2 id="heading3">AVAILABILITY</h2>
<p class="indent">
<b><a href="./scripts.php?script=report">report</a></b>
is a Bourne shell script which should work equally well on all versions of UNIX
and Linux.
</p>
<h2 id="heading4">DESCRIPTION</h2>
<p class="indent">
The script is currently hardwired to find explicit strings known to be used
in logging activity by other 
<b>City\ Linux</b>
scripts (e.g. 
<b>chkfw,</b>
<b>chkdf</b>
etc). A configurable template for the <a href="./scripts.php?script=report">report</a> is combined with the extracted
log file data using
<b>GNU's</b>
<b>gawk</b>
to generate a 
<b>groff</b>
document with 
<b>ms</b>
macros. A 
<b>postscript</b>
file is generated from which a 
<b>pdf</b>
file is created using
<b>ps2pdf.</b>
</p>
<p class="indent">
The 
<i>hostid</i>
must be given on the command line. The 
<i>hostid </i>
may be the 
<i>hostname</i>
of the subject of the <a href="./scripts.php?script=report">report</a> but I frequently find that in these times
when canonical hostnames are so often complex names automatically
generated by internet service providers and with no reverse lookup, it is
more efficient to use a local id for the clients box which can be resolved
through local lookup tables or inserted into the local domains name space.
</p>
<p class="indent">
Templates are kept in the directory "
<i>/usr/local/etc/reports.d</i>
" with the
file name 
<i>hostid</i>
.
</p>
<h2 id="heading5">OPTIONS</h2>
<p class="indent">
</p>
<p class="indent">
<b>-c</b>&nbsp;&nbsp;&nbsp;
Generate a <a href="./scripts.php?script=report">report</a> for the current month. 
</p>
<p class="indent">
<b>-d</b>&nbsp;&nbsp;&nbsp;
Set 
<i>debug</i>
 mode on.
</p>
<p class="indent">

<b>-e </b>
<i>&lt;e-mail_rcpts&gt;</i>

<br/>
The completed <a href="./scripts.php?script=report">report</a> is emailed to the addresses given with the 
<b>-e</b>&nbsp;&nbsp;&nbsp;
option. The
.IR e-mail
recipients may be a comma separated list of email addresses .
</p>
<p class="indent">
<b>-o</b>&nbsp;&nbsp;&nbsp;
<i>&lt;output_directory&gt;</i>
<br/>
Both 
<b>postscript</b>
 and 
<b>portable document format (.pdf)</b>
 copies of
the <a href="./scripts.php?script=report">report</a> are generated. The <a href="./scripts.php?script=report">report</a>s are output to  directory set with
the 
<b>-o</b>&nbsp;&nbsp;&nbsp;

option or 
<b>"$HOME./clients/$hostid/reports"</b>
 by default. If the directory
does not exist it is created.
</p>
<p class="indent">
<b>-s</b>&nbsp;&nbsp;&nbsp;
Display (show) the <a href="./scripts.php?script=report">report</a> on screen.
</p>
<p class="indent">
<b>-v</b>&nbsp;&nbsp;&nbsp;
<br/>
Set the operation mode of the script to 
<i>verbose</i>.
In
<i>verbose</i>
mode
The script will echo progress messages and alerts to 

<i>standard out</i>
. 
</p>
<p class="indent">
<b>-V</b>&nbsp;&nbsp;&nbsp;
Print the version number to screen and exit.
</p>
<h2 id="heading6">EXAMPLES</h2>
<p class="indent">

</p><div class="cmdline">
<pre>
report -m Nov fcl 
</pre></div>
<p class="indent">
</p>
<p class="indent">
Create a report for the host id "
<i>fcl</i>
" using log records generated
in November.
</p>
<h2 id="heading7">FILES</h2>
<p class="indent">
<i>/var/log/messages</i>,
<i>/var/log/reports/&lt;hostid&gt;.&lt;month&gt;.db</i>,
<i>/usr/local/etc/reports.d/&lt;hostid&gt;</i>.
</p>
<h2 id="heading8">BUGS</h2>
<p class="indent">
The script has very little input error checking.
</p>
<h2 id="heading9">SEE ALSO</h2>
<p class="indent">
<a href="./scripts.php?script=chkdf&man=y"><i>chkdf</i>,</a>
<a href="./scripts.php?script=chkftpd&man=y"><i>chkftpd</i>,</a>
<a href="./scripts.php?script=chkfw&man=y"><i>chkfw</i>,</a>
<a href="./scripts.php?script=chkmail&man=y"><i>chkmail</i>,</a>
<a href="./scripts.php?script=ftchbkup&man=y"><i>ftchbkup</i>,</a>
<a href="./scripts.php?script=rclean&man=y"><i>rclean</i>,</a>
<a href="./scripts.php?script=rmq&man=y"><i>rmq</i>,</a>
<a href="./scripts.php?script=plbkup&man=y"><i>plbkup</i>,</a>
<a href="./scripts.php?script=secscan&man=y"><i>secscan</i>.</a>
</p>
<h2 id="heading10">AUTHOR</h2>
<p class="indent">
Clifford W Fulford, City Linux. Contact fulford@fulford.net or +44 (0)709 229 5385.
</p>
	
